{
  "name": "video_strategy_swing",
  "description": "Swing trading strategy with wide TPs, patient entries, and trend-following approach for 4h-1d timeframes",
  "target_markets": "BTC/USDT, ETH/USDT, major altcoins - trending markets with strong levels",
  
  "risk": {
    "risk_per_trade": 0.015,
    "max_concurrent_positions": 2,
    "daily_risk_limit": 0.03,
    "max_position_size_usd": 25000,
    "kill_switch_loss_limit": 0.08,
    "correlation_limit": 0.5,
    "max_consecutive_losses": 3
  },
  
  "liquidity_filters": {
    "min_24h_volume_usd": 30000000,
    "min_oi_usd": 50000000,
    "max_spread_bps": 15.0,
    "min_depth_usd_0_5pct": 50000.0,
    "min_depth_usd_0_3pct": 25000.0,
    "min_trades_per_minute": 30.0
  },
  
  "volatility_filters": {
    "atr_range_min": 0.01,
    "atr_range_max": 0.08,
    "bb_width_percentile_max": 0.95,
    "volume_surge_1h_min": 1.1,
    "volume_surge_5m_min": 1.3,
    "oi_delta_threshold": 0.05
  },
  
  "signal_config": {
    "momentum_volume_multiplier": 1.5,
    "momentum_body_ratio_min": 0.55,
    "momentum_epsilon": 0.003,
    "retest_pierce_tolerance": 0.4,
    "retest_max_pierce_atr": 0.6,
    "l2_imbalance_threshold": 1.5,
    "vwap_gap_max_atr": 2.5,
    "prelevel_limit_offset_bps": 3.0,
    "enter_on_density_eat_ratio": 0.65,
    "tpm_on_touch_frac": 0.6,
    
    "entry_rules": {
      "require_volume_confirmation": true,
      "volume_confirmation_multiplier": 1.3,
      "require_density_confirmation": false,
      "density_confirmation_threshold": 1.5,
      "require_momentum": true,
      "momentum_min_slope_pct": 0.3,
      "momentum_check_bars": 5,
      "validate_approach": true,
      "approach_max_slope_pct": 1.0,
      "approach_min_consolidation_bars": 5,
      "max_distance_from_level_bps": 50.0,
      "require_clean_breakout": false,
      "false_start_lookback_bars": 20,
      "avoid_session_start_minutes": 10,
      "avoid_session_end_minutes": 30
    },
    
    "market_quality": {
      "flat_market_filter_enabled": true,
      "flat_market_atr_threshold": 0.5,
      "flat_market_lookback_bars": 30,
      "consolidation_filter_enabled": true,
      "consolidation_range_threshold_pct": 0.3,
      "consolidation_min_bars": 15,
      "require_stable_volatility": true,
      "volatility_spike_threshold": 1.5,
      "volatility_lookback_bars": 30,
      "require_clear_trend": true,
      "trend_slope_min_pct": 0.4,
      "trend_lookback_bars": 30,
      "noise_filter_enabled": true,
      "noise_threshold": 0.8
    }
  },
  
  "position_config": {
    "tp_levels": [
      {
        "level_name": "TP1",
        "reward_multiple": 2.0,
        "size_pct": 0.20,
        "placement_mode": "smart"
      },
      {
        "level_name": "TP2",
        "reward_multiple": 4.0,
        "size_pct": 0.25,
        "placement_mode": "smart"
      },
      {
        "level_name": "TP3",
        "reward_multiple": 6.0,
        "size_pct": 0.25,
        "placement_mode": "smart"
      },
      {
        "level_name": "TP4",
        "reward_multiple": 8.0,
        "size_pct": 0.20,
        "placement_mode": "adaptive"
      },
      {
        "level_name": "TP5",
        "reward_multiple": 12.0,
        "size_pct": 0.10,
        "placement_mode": "adaptive"
      }
    ],
    
    "tp_smart_placement": {
      "enabled": true,
      "avoid_density_zones": true,
      "density_zone_buffer_bps": 20.0,
      "avoid_sr_levels": true,
      "sr_level_buffer_bps": 25.0,
      "prefer_round_numbers": true,
      "round_number_step": 1.0,
      "max_adjustment_bps": 30.0
    },
    
    "sl_mode": "chandelier",
    "sl_r": 1.0,
    "chandelier_atr_mult": 3.5,
    "chandelier_lookback_bars": 30,
    
    "breakeven_enabled": true,
    "breakeven_trigger_r": 1.5,
    "breakeven_buffer_bps": 10.0,
    
    "trailing_enabled": true,
    "trailing_activation_r": 3.0,
    "trailing_step_bps": 30.0,
    
    "exit_rules": {
      "failed_breakout_enabled": true,
      "failed_breakout_bars": 5,
      "failed_breakout_retest_threshold": 0.4,
      "activity_drop_enabled": false,
      "activity_drop_threshold": 0.2,
      "activity_drop_window_bars": 10,
      "weak_impulse_enabled": true,
      "weak_impulse_min_move_pct": 0.2,
      "weak_impulse_check_bars": 8,
      "max_hold_time_hours": 168.0,
      "time_stop_minutes": null,
      "volatility_exit_enabled": false,
      "volatility_spike_threshold": 3.5
    },
    
    "fsm_config": {
      "enabled": true,
      "entry_confirmation_bars": 3,
      "entry_max_slippage_bps": 20.0,
      "running_monitor_interval_s": 30,
      "running_breakeven_trigger_r": 1.5,
      "partial_closed_trail_enabled": true,
      "partial_closed_trail_trigger_r": 3.0,
      "partial_closed_trail_step_bps": 30.0,
      "breakeven_buffer_bps": 10.0,
      "breakeven_lock_profit_enabled": true,
      "breakeven_lock_profit_bps": 15.0,
      "trailing_activation_r": 3.0,
      "trailing_step_bps": 30.0,
      "trailing_acceleration_enabled": true,
      "trailing_accel_after_r": 6.0,
      "trailing_accel_step_bps": 15.0,
      "exiting_timeout_s": 60,
      "exiting_panic_after_attempts": 5
    },
    
    "max_hold_time_hours": 168,
    "add_on_enabled": true,
    "add_on_max_size_pct": 0.3
  },
  
  "scanner_config": {
    "max_candidates": 5,
    "scan_interval_seconds": 300,
    "score_weights": {
      "volume": 0.15,
      "volatility": 0.15,
      "level_quality": 0.35,
      "momentum": 0.20,
      "liquidity": 0.15
    },
    "symbol_whitelist": ["BTCUSDT", "ETHUSDT", "SOLUSDT", "BNBUSDT", "ADAUSDT"],
    "symbol_blacklist": null,
    "top_n_by_volume": 30
  },
  
  "strategy_priority": "breakout_retest",
  
  "execution_config": {
    "use_limit_orders": true,
    "limit_offset_bps": 3.0,
    "limit_timeout_seconds": 60,
    "fill_or_kill": false,
    "post_only": true,
    "twap_enabled": true,
    "twap_duration_seconds": 120,
    "twap_min_slices": 5,
    "twap_max_slices": 15
  },
  
  "levels_rules": {
    "min_touches": 3,
    "prefer_round_numbers": true,
    "round_step_candidates": [0.10, 1.00, 5.00, 10.00, 50.00, 100.00],
    "cascade_min_levels": 3,
    "cascade_radius_bps": 20.0,
    "approach_slope_max_pct_per_bar": 1.0,
    "prebreakout_consolidation_min_bars": 5
  },
  
  "density_config": {
    "k_density": 8.0,
    "bucket_ticks": 5,
    "lookback_window_s": 600
  }
}
